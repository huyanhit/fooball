import{B as b,r as x,H as y,S as k,q as B,o as r,J as C,E as g,a as t,w as M,v as L,t as n,n as S,c,b as H,F as h,D as f,N as T,u,K as E,C as V,M as I}from"./main.36744a5a.js";import{l as N}from"./lodash.bc509cb4.js";import{_ as P}from"./ImageFile.2e9b6ea9.js";const D={class:"mb-0 bg-white p-3"},F=t("div",{class:"flex-fill fs-16 uppercase p-2"},"L\u1ECBch \u0111\u1EA5u h\xF4m nay",-1),$={class:"d-flex flex-row position-relative mb-2"},j={class:"flex-fill me-2"},z={class:"m-0 flex-shrink-1 fs-12 border rounded border-gray-600 text-primary p-2 me-1"},R={class:"d-flex flex-row position-relative mb-2"},q={class:"h-[calc(100vh-330px)]",id:"league-bar"},A={class:"list-group"},J={key:0},K={class:"flex-fill"},O={class:"text-muted fs-11"},X={__name:"BlockLeague",setup(U){const d=b(),e=x({overlay:!1,page_show:1,keyword:"",is_status:"",statuses:[]});y(()=>{w(),new k(document.getElementById("league-bar"),{autoHide:!1}).getScrollElement().addEventListener("scroll",v)});const _=function(o){return o>=(e.page_show-1)*50},m=function(o){return Math.floor(l.value.length)===e.page_show*50?o<l.value.length:o<e.page_show*50},p=function(o){switch(e.is_status=o,e.page_show=1,o){case"hot":e.statuses=["111"];break;case"reset":e.statuses=[],e.is_status="";break}},v=function(o){let s=o.target;if(Math.ceil(s.scrollTop)===s.scrollHeight-s.offsetHeight){let a=Math.floor(l.value.length/50);e.page_show<a&&(e.page_show=e.page_show+1,s.scrollTop=1)}else Math.ceil(s.scrollTop)<1&&e.page_show>1&&(setTimeout(()=>{s.scrollTop=s.scrollHeight-s.offsetHeight-1},50),e.page_show>1&&(e.page_show=e.page_show-1))},w=async function(){e.overlay=!0,await d.getLeagueProfile(),e.overlay=!1},l=B(()=>Object.values(d.league_profiles).filter(o=>e.is_status?e.statuses.includes(o.leagueId):o.name.toLowerCase().includes(e.keyword.toLowerCase())));return(o,s)=>(r(),C(u(I),{show:e.overlay},{default:g(()=>[t("div",D,[F,t("div",$,[t("div",j,[M(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=a=>e.keyword=a),placeholder:"L\u1ECDc theo t\xEAn \u0111\u1ED9i b\xF3ng",autocomplete:"off",id:"search-options",value:""},null,512),[[L,e.keyword]])]),t("span",z,"Trang "+n(e.page_show),1)]),t("div",R,[t("span",{class:"m-0 flex-shrink-1 fs-12 border rounded bg-gray-500 text-white px-1 cursor-pointer me-2",onClick:s[1]||(s[1]=a=>p("reset"))},"Reset"),t("span",{class:S(["m-0 flex-shrink-1 fs-12 border rounded border-gray-600 text-primary px-1 cursor-pointer me-2",{"bg-red-400 text-white":e.is_status==="hot"}]),onClick:s[2]||(s[2]=a=>p("hot"))}," Hot ",2)]),t("div",q,[t("ul",A,[(r(!0),c(h,null,H(l.value,(a,i)=>(r(),c(h,{key:i},[_(i)&&m(i)?(r(),c("li",J,[f(u(E),{class:"d-flex align-items-center list-group-item hover:bg-success-light cursor-pointer",to:"league-detail/"+u(N).kebabCase(a.name)},{default:g(()=>[t("div",{class:"avatar-sm me-2 border border-groove inline-block",style:T("background-color:"+a.color)},[f(P,{item:a,category:"league-profile",properties:"logo",classProps:"w-[45px]"},null,8,["item"])],4),t("div",K,[t("div",null,n(a.name),1),t("div",O," V\xF2ng "+n(a.currentRound),1)])]),_:2},1032,["to"])])):V("",!0)],64))),128))])])])]),_:1},8,["show"]))}};export{X as _};
