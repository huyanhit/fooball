import{B as m,r as _,H as w,S as v,q as x,o as l,I as b,E as d,D as y,a as t,w as k,v as S,t as i,n as B,c as n,b as C,F as u,K as L,C as H,u as p,X as T,J as E}from"./main.894709bf.js";const V=t("div",{class:"flex-fill fs-16 uppercase p-2"},"L\u1ECBch \u0111\u1EA5u h\xF4m nay",-1),j={class:"d-flex flex-row position-relative mb-2"},D={class:"flex-fill me-2"},F={class:"m-0 flex-shrink-1 fs-12 border rounded border-gray-600 text-primary p-2 me-1"},I={class:"d-flex flex-row position-relative mb-2"},M={class:"h-[calc(100vh-330px)] overflow-auto",id:"league-bar"},N={class:"list-group overflow-auto"},z={key:0,class:"d-flex align-items-center list-group-item"},O=["src"],P={class:"flex-fill"},R={class:"text-muted fs-11"},q={__name:"BlockLeague",setup(X){const r=m(),e=_({overlay:!1,pageShow:0,keyword:"",is_status:"",statuses:[]});w(()=>{f(),new v(document.getElementById("league-bar"),{autoHide:!1}).getScrollElement().addEventListener("scroll",g)});const c=function(a){switch(e.is_status=a,e.pageShow=0,a){case"hot":e.statuses=["111"];break;case"reset":e.statuses=[],e.is_status="";break}},g=function(a){let s=a.target;if(s.scrollTop===s.scrollHeight-s.offsetHeight){let o=Math.floor(Object.keys(r.league_profile).length/100);e.pageShow<o&&(e.pageShow=e.pageShow+1,s.scrollTop=1)}s.scrollTop<1&&e.pageShow>0&&(setTimeout(()=>{s.scrollTop=s.scrollHeight-s.offsetHeight-1},100),e.pageShow>0&&(e.pageShow=e.pageShow-1))},f=async function(){e.overlay=!0,await r.getLeagueProfile({save:12*3600}),e.overlay=!1},h=x(()=>Object.values(r.league_profile).filter(a=>e.is_status?e.statuses.includes(a.leagueId):a.name.toLowerCase().includes(e.keyword.toLowerCase())));return(a,s)=>(l(),b(p(E),{show:e.overlay},{default:d(()=>[y(p(T),{class:"mb-0"},{default:d(()=>[V,t("div",j,[t("div",D,[k(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=o=>e.keyword=o),placeholder:"L\u1ECDc theo t\xEAn \u0111\u1ED9i b\xF3ng",autocomplete:"off",id:"search-options",value:""},null,512),[[S,e.keyword]])]),t("span",F,"Trang "+i(e.pageShow+1),1)]),t("div",I,[t("span",{class:"m-0 flex-shrink-1 fs-12 border rounded bg-gray-500 text-white px-1 cursor-pointer me-2",onClick:s[1]||(s[1]=o=>c("reset"))},"Reset"),t("span",{class:B(["m-0 flex-shrink-1 fs-12 border rounded border-gray-600 text-primary px-1 cursor-pointer me-2",{"bg-red-400 text-white":e.is_status==="hot"}]),onClick:s[2]||(s[2]=o=>c("hot"))}," Hot ",2)]),t("div",M,[t("ul",N,[(l(!0),n(u,null,C(h.value,o=>(l(),n(u,null,[o.id>=e.pageShow*50&&o.id<(e.pageShow+1)*50?(l(),n("li",z,[t("div",{class:"avatar-sm me-2 border border-groove inline-block",style:L("background-color:"+o.color)},[t("img",{src:"/api/get-image-url?id="+o.id+"&category=league-profile&prop=logo",alt:"",class:"w-[45px]"},null,8,O)],4),t("div",P,[t("div",null,i(o.name),1),t("div",R," V\xF2ng "+i(o.currentRound),1)])])):H("",!0)],64))),256))])])]),_:1})]),_:1},8,["show"]))}};export{q as _};
