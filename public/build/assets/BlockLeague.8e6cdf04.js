import{B as _,r as w,H as v,S as b,q as x,o as l,J as y,E as u,a as t,w as k,v as S,t as i,n as B,c as n,b as C,F as p,D as g,N as L,u as c,K as H,C as T,M}from"./main.4dcc1166.js";import{l as E}from"./lodash.bc509cb4.js";import{_ as V}from"./ImageFile.d69b0111.js";const N={class:"mb-0 bg-white p-3"},j=t("div",{class:"flex-fill fs-16 uppercase p-2"},"L\u1ECBch \u0111\u1EA5u h\xF4m nay",-1),D={class:"d-flex flex-row position-relative mb-2"},F={class:"flex-fill me-2"},P={class:"m-0 flex-shrink-1 fs-12 border rounded border-gray-600 text-primary p-2 me-1"},$={class:"d-flex flex-row position-relative mb-2"},z={class:"h-[calc(100vh-330px)] overflow-auto",id:"league-bar"},I={class:"list-group overflow-auto"},O={key:0},R={class:"flex-fill"},q={class:"text-muted fs-11"},G={__name:"BlockLeague",setup(A){const r=_(),e=w({overlay:!1,pageShow:0,keyword:"",is_status:"",statuses:[]});v(()=>{h(),new b(document.getElementById("league-bar"),{autoHide:!1}).getScrollElement().addEventListener("scroll",f)});const d=function(a){switch(e.is_status=a,e.pageShow=0,a){case"hot":e.statuses=["111"];break;case"reset":e.statuses=[],e.is_status="";break}},f=function(a){let s=a.target;if(Math.ceil(s.scrollTop)===s.scrollHeight-s.offsetHeight){let o=Math.floor(Object.keys(r.league_profile).length/100);e.pageShow<o&&(e.pageShow=e.pageShow+1,s.scrollTop=1)}Math.ceil(s.scrollTop)<1&&e.pageShow>0&&(setTimeout(()=>{s.scrollTop=s.scrollHeight-s.offsetHeight-1},100),e.pageShow>0&&(e.pageShow=e.pageShow-1))},h=async function(){e.overlay=!0,await r.getLeagueProfile(),e.overlay=!1},m=x(()=>Object.values(r.league_profile).filter(a=>e.is_status?e.statuses.includes(a.leagueId):a.name.toLowerCase().includes(e.keyword.toLowerCase())));return(a,s)=>(l(),y(c(M),{show:e.overlay},{default:u(()=>[t("div",N,[j,t("div",D,[t("div",F,[k(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=o=>e.keyword=o),placeholder:"L\u1ECDc theo t\xEAn \u0111\u1ED9i b\xF3ng",autocomplete:"off",id:"search-options",value:""},null,512),[[S,e.keyword]])]),t("span",P,"Trang "+i(e.pageShow+1),1)]),t("div",$,[t("span",{class:"m-0 flex-shrink-1 fs-12 border rounded bg-gray-500 text-white px-1 cursor-pointer me-2",onClick:s[1]||(s[1]=o=>d("reset"))},"Reset"),t("span",{class:B(["m-0 flex-shrink-1 fs-12 border rounded border-gray-600 text-primary px-1 cursor-pointer me-2",{"bg-red-400 text-white":e.is_status==="hot"}]),onClick:s[2]||(s[2]=o=>d("hot"))}," Hot ",2)]),t("div",z,[t("ul",I,[(l(!0),n(p,null,C(m.value,o=>(l(),n(p,null,[o.id>=e.pageShow*50&&o.id<(e.pageShow+1)*50?(l(),n("li",O,[g(c(H),{class:"d-flex align-items-center list-group-item hover:bg-success-light cursor-pointer",to:"league-detail/"+c(E).kebabCase(o.name)},{default:u(()=>[t("div",{class:"avatar-sm me-2 border border-groove inline-block",style:L("background-color:"+o.color)},[g(V,{item:o,category:"league-profile",properties:"logo",classProps:"w-[45px]"},null,8,["item"])],4),t("div",R,[t("div",null,i(o.name),1),t("div",q," V\xF2ng "+i(o.currentRound),1)])]),_:2},1032,["to"])])):T("",!0)],64))),256))])])])]),_:1},8,["show"]))}};export{G as _};
