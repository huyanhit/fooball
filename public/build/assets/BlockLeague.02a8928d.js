import{j as x,B as _,H as w,o as n,c as d,n as v,u,r as y,S as k,q as S,I as B,E as g,a as t,w as L,v as C,t as p,b as T,F as h,D as m,M as H,J as E,C as j,K as P}from"./main.2e780311.js";import{l as V}from"./lodash.bc509cb4.js";const F=["src"],I={__name:"ImageFile",props:["item","classProps"],setup(c){const r=x(null),e=c,l=_();return w(async()=>{if(!l.files[e.item.id]){let i=await fetch("/api/get-image-url?id="+e.item.id+"&category=league-profile&prop=logo",{method:"GET"});i.status===200&&(l.files[e.item.id]=URL.createObjectURL(await i.blob()))}}),(i,f)=>(n(),d("img",{class:v(c.classProps),src:u(l).files[c.item.id],ref_key:"img",ref:r},null,10,F))}},M={class:"mb-0 bg-white p-3"},R=t("div",{class:"flex-fill fs-16 uppercase p-2"},"L\u1ECBch \u0111\u1EA5u h\xF4m nay",-1),$={class:"d-flex flex-row position-relative mb-2"},D={class:"flex-fill me-2"},N={class:"m-0 flex-shrink-1 fs-12 border rounded border-gray-600 text-primary p-2 me-1"},O={class:"d-flex flex-row position-relative mb-2"},U={class:"h-[calc(100vh-330px)] overflow-auto",id:"league-bar"},z={class:"list-group overflow-auto"},q={key:0},A={class:"flex-fill"},G={class:"text-muted fs-11"},Q={__name:"BlockLeague",setup(c){const r=_(),e=y({overlay:!1,pageShow:0,keyword:"",is_status:"",statuses:[]});w(()=>{f(),new k(document.getElementById("league-bar"),{autoHide:!1}).getScrollElement().addEventListener("scroll",i)});const l=function(a){switch(e.is_status=a,e.pageShow=0,a){case"hot":e.statuses=["111"];break;case"reset":e.statuses=[],e.is_status="";break}},i=function(a){let s=a.target;if(s.scrollTop===s.scrollHeight-s.offsetHeight){let o=Math.floor(Object.keys(r.league_profile).length/100);e.pageShow<o&&(e.pageShow=e.pageShow+1,s.scrollTop=1)}s.scrollTop<1&&e.pageShow>0&&(setTimeout(()=>{s.scrollTop=s.scrollHeight-s.offsetHeight-1},100),e.pageShow>0&&(e.pageShow=e.pageShow-1))},f=async function(){e.overlay=!0,await r.getLeagueProfile({save:12*3600}),e.overlay=!1},b=S(()=>Object.values(r.league_profile).filter(a=>e.is_status?e.statuses.includes(a.leagueId):a.name.toLowerCase().includes(e.keyword.toLowerCase())));return(a,s)=>(n(),B(u(P),{show:e.overlay},{default:g(()=>[t("div",M,[R,t("div",$,[t("div",D,[L(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=o=>e.keyword=o),placeholder:"L\u1ECDc theo t\xEAn \u0111\u1ED9i b\xF3ng",autocomplete:"off",id:"search-options",value:""},null,512),[[C,e.keyword]])]),t("span",N,"Trang "+p(e.pageShow+1),1)]),t("div",O,[t("span",{class:"m-0 flex-shrink-1 fs-12 border rounded bg-gray-500 text-white px-1 cursor-pointer me-2",onClick:s[1]||(s[1]=o=>l("reset"))},"Reset"),t("span",{class:v(["m-0 flex-shrink-1 fs-12 border rounded border-gray-600 text-primary px-1 cursor-pointer me-2",{"bg-red-400 text-white":e.is_status==="hot"}]),onClick:s[2]||(s[2]=o=>l("hot"))}," Hot ",2)]),t("div",U,[t("ul",z,[(n(!0),d(h,null,T(b.value,o=>(n(),d(h,null,[o.id>=e.pageShow*50&&o.id<(e.pageShow+1)*50?(n(),d("li",q,[m(u(E),{class:"d-flex align-items-center list-group-item hover:bg-success-light cursor-pointer",to:"league-detail/"+u(V).kebabCase(o.name)},{default:g(()=>[t("div",{class:"avatar-sm me-2 border border-groove inline-block",style:H("background-color:"+o.color)},[m(I,{item:o,classProps:"w-[45px]"},null,8,["item"])],4),t("div",A,[t("div",null,p(o.name),1),t("div",G," V\xF2ng "+p(o.currentRound),1)])]),_:2},1032,["to"])])):j("",!0)],64))),256))])])])]),_:1},8,["show"]))}};export{Q as _};
