import{B as m,r as _,H as w,S as v,q as b,o as l,I as x,E as u,a as s,w as y,v as k,t as i,n as S,c as n,b as B,F as p,D as C,K as L,u as c,M as H,C as T,J as E}from"./main.c896f72d.js";import{l as V}from"./lodash.bc509cb4.js";const M={class:"mb-0 bg-white p-3"},j=s("div",{class:"flex-fill fs-16 uppercase p-2"},"L\u1ECBch \u0111\u1EA5u h\xF4m nay",-1),D={class:"d-flex flex-row position-relative mb-2"},F={class:"flex-fill me-2"},I={class:"m-0 flex-shrink-1 fs-12 border rounded border-gray-600 text-primary p-2 me-1"},N={class:"d-flex flex-row position-relative mb-2"},z={class:"h-[calc(100vh-330px)] overflow-auto",id:"league-bar"},O={class:"list-group overflow-auto"},P={key:0},R=["src"],$={class:"flex-fill"},q={class:"text-muted fs-11"},U={__name:"BlockLeague",setup(A){const r=m(),e=_({overlay:!1,pageShow:0,keyword:"",is_status:"",statuses:[]});w(()=>{h(),new v(document.getElementById("league-bar"),{autoHide:!1}).getScrollElement().addEventListener("scroll",g)});const d=function(a){switch(e.is_status=a,e.pageShow=0,a){case"hot":e.statuses=["111"];break;case"reset":e.statuses=[],e.is_status="";break}},g=function(a){let o=a.target;if(o.scrollTop===o.scrollHeight-o.offsetHeight){let t=Math.floor(Object.keys(r.league_profile).length/100);e.pageShow<t&&(e.pageShow=e.pageShow+1,o.scrollTop=1)}o.scrollTop<1&&e.pageShow>0&&(setTimeout(()=>{o.scrollTop=o.scrollHeight-o.offsetHeight-1},100),e.pageShow>0&&(e.pageShow=e.pageShow-1))},h=async function(){e.overlay=!0,await r.getLeagueProfile({save:12*3600}),e.overlay=!1},f=b(()=>Object.values(r.league_profile).filter(a=>e.is_status?e.statuses.includes(a.leagueId):a.name.toLowerCase().includes(e.keyword.toLowerCase())));return(a,o)=>(l(),x(c(E),{show:e.overlay},{default:u(()=>[s("div",M,[j,s("div",D,[s("div",F,[y(s("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=t=>e.keyword=t),placeholder:"L\u1ECDc theo t\xEAn \u0111\u1ED9i b\xF3ng",autocomplete:"off",id:"search-options",value:""},null,512),[[k,e.keyword]])]),s("span",I,"Trang "+i(e.pageShow+1),1)]),s("div",N,[s("span",{class:"m-0 flex-shrink-1 fs-12 border rounded bg-gray-500 text-white px-1 cursor-pointer me-2",onClick:o[1]||(o[1]=t=>d("reset"))},"Reset"),s("span",{class:S(["m-0 flex-shrink-1 fs-12 border rounded border-gray-600 text-primary px-1 cursor-pointer me-2",{"bg-red-400 text-white":e.is_status==="hot"}]),onClick:o[2]||(o[2]=t=>d("hot"))}," Hot ",2)]),s("div",z,[s("ul",O,[(l(!0),n(p,null,B(f.value,t=>(l(),n(p,null,[t.id>=e.pageShow*50&&t.id<(e.pageShow+1)*50?(l(),n("li",P,[C(c(H),{class:"d-flex align-items-center list-group-item hover:bg-success-light cursor-pointer",to:"league-detail/"+c(V).kebabCase(t.name)},{default:u(()=>[s("div",{class:"avatar-sm me-2 border border-groove inline-block",style:L("background-color:"+t.color)},[s("img",{src:"/api/get-image-url?id="+t.id+"&category=league-profile&prop=logo",alt:"",class:"w-[45px]"},null,8,R)],4),s("div",$,[s("div",null,i(t.name),1),s("div",q," V\xF2ng "+i(t.currentRound),1)])]),_:2},1032,["to"])])):T("",!0)],64))),256))])])])]),_:1},8,["show"]))}};export{U as _};
